Paytm Status:

setup ngrok

postman 
 - init did not work = signature failure
 - fetch payment methods worked

native-api-set
 - init worked
 - process did not work
   error:
   "Payment failed due to a technical error. Please try after some time."

1) user will have a call back URL pointing to merchant server,
   which will be used to ensure that server got acknowledged the
   transaction or it has to acknowledge the trasaction using
   status APIs. [ubu]

01. Store context of multiple agents in context [ For now do for one ]

MID can be shared, but not MID-KEY



require('../../../cmd/settings')

node pkg/infra/paytm/driver.js

let data =
{
    JournalID     : '072015'
  , NetPrice      : 1.00
  , User          :
  {
      ID          : 'User1'
    , Email       : '123@gmail.com'
    , Name        : 'User-1'
    , MobileNo    : '+910987654321'
    , Address     : { PostalCode : 123456 }
  }
}

let pay = new PayTM()
//pay.CreateToken(data)

data =
{
    JournalID     : '60fe6ffbfc97c213300e3850'
  , Amount        : 1.00
  , ChannelRefID  : '20210726111212800110168291702867345'
}

// pay.Refund(data)
// pay.RefundStatus(data)
pay.PaymentStatus(data)






Todo:

Fix Dates in Journal List/View
Consier Store as entity and create seperate token for it
In Page & Limit - Page > 0
user $inc to modify product count
https://docs.mongodb.com/manual/tutorial/optimize-query-performance-with-indexes-and-projections/#limit-the-number-of-query-results-to-reduce-network-demand


Completed
01 journal read											          21_08_13    21_08_23
02 journal	list	agetn/store/user            21_08_23    21_08_23
06 store   list limit                         reimplement
04 product list limit
---

.skip(skip).limit(nPerPage).toArray()

dbset.Limit

"mongodb": "^3.6.3"

npm notice
npm notice New minor version of npm available! 7.6.3 -> 7.21.0
npm notice Changelog: https://github.com/npm/cli/releases/tag/v7.21.0
npm notice Run npm install -g npm@7.21.0 to update!
npm notice


Page/Limit
